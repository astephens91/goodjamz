{% include "bootstrap.html" %}

<html>
<head>
    
	<title>{% block title %}Hanging out and Jamming out{% endblock %}</title>
</head>

<body>
	<div class="sidenav">

        <a href="/">Home</a>
        <a href='/album_upload/'>Upload Album</a>
        <a href='/userdetails/{{ request.user.id }}'>Your Profile</a>
        <a href='/logout/'>Logout</a>
        
	</div>
 
	{% block content %}
	{% endblock %}
<div class="main">


<h1 class="display-3">GoodjamZ</h1>
<p class="lead"> Check it out. Tell your Friends. Made with django. </p>
<hr class="my-4">  

<br><br>
    <h4>
        <button type="button" class="btn btn-secondary btn-lg" style="width: 20rem;" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
    Filter Albums by Genre
    </h4>
  <div class="collapse" id="collapseExample" style="width: 20rem;">
    <div class="card card-body">
        <form class="form-inline" action="" method="get">
            <div class="form-group mb-2">
            {{ filter.form.as_p }}
        </div>
        <button type="submit" class="btn btn-secondary btn-sm" style="margin-left:10px">Submit</button>
        </form>
    </div>
    <br>
  </div>

    
    {% for obj in filter.qs %}
    <div class="card" style="width: 20rem;">
        <h3 class="card-header"><a href= '/album/{{ obj.id }}'>{{ obj.title }}</a> by {{ obj.artist }}</h3>

        {% if obj.artwork|length > 0 %}
        <img src="{{ obj.artwork.url }}" class="card-img-top" alt="album-cover">
        {% endif %}
        <div class= 'card-body'>
            <div  class="card-text">
                {{ obj.description }}
                <footer class="blockquote-footer"> Uploaded By: {{obj.uploaded_by}}</footer>
                <br>
                <a href= '/album/{{ obj.id }}' class="btn btn-primary">View Album </a>
        </div>
        <div class="card-body">
          <h5 class="card-title">Rate this album!</p>
            <form action='/rating/{{ obj.id }}/' method=POST>
                {% csrf_token %}
                <input type='radio' name='rating' value='5'> 5 <br>
                <input type='radio' name='rating' value='4'> 4 <br>
                <input type='radio' name='rating' value='3'> 3  <br>
                <input type='radio' name='rating' value='2'> 2 <br>
                <input type='radio' name='rating' value='1'> 1 <br>
                <br>
                <button class="btn btn-primary" type='submit'> VOTE </button>
            </form>
          </h5>
        </div>
      </div>
    </div>
    {% endfor %}

<br>
</body>
